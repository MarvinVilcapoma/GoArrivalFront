<div class="seccion">
    <div class="row m-0 p-0 mt-5">
        <div class="col-lg-12 col-md-12 col-sm-12 col-12 m-0 p-0">
            <span (click)="volver()" class="back">Volver</span>
        </div>

        <div  class="row m-0 p-0 mt-4">
            <div class="col-xxl-12 col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 m-0 p-0">
                <p-stepper [activeStep]="2" [linear]="true">
                    <p-stepperPanel header="Selecciona tu vuelo">
                        <ng-template pTemplate="content" let-nextCallback="nextCallback" let-index="index">
    
                        </ng-template>
                    </p-stepperPanel>
                    <p-stepperPanel header="Completa tus datos">
                        <ng-template pTemplate="content" let-prevCallback="prevCallback" let-index="index">
                         
                        </ng-template>
                    </p-stepperPanel>
                    <p-stepperPanel header="Confirma tu vuelo">
                        <ng-template pTemplate="content" let-prevCallback="prevCallback"
                            let-nextCallback="nextCallback" let-index="index">
    
                        </ng-template>
                    </p-stepperPanel>
                    <p-stepperPanel header="Reserva finalizada">
                        <ng-template pTemplate="content" let-prevCallback="prevCallback" let-index="index">
                         
                        </ng-template>
                    </p-stepperPanel>
                </p-stepper>
            </div>
        </div>
        <!--  <div class="col-lg-12 col-md-12 col-sm-12 col-12 p-0">
            <span class="title-form">Confirme su vuelo</span>
        </div> -->
        <div class="col-lg-12 col-md-12 col-sm-12 col-12 p-0">
            <img class="img-airplane mr-3" src="/assets/Images/flight/airplane_ida.svg" alt=""><span
                class="title-form">Confirme su vuelo</span>
        </div>
    </div>
    <div *ngIf="validPassenger" class="row m-0 p-0 mt-3">
        <div class="col-lg-12 col-md-12 col-sm-12 col-12 m-0 p-0">
            <div class="row m-0 p-0">
                <div class="col-lg-8 col-md-12 col-sm-12 col-12 m-0 p-0">

                    <div class="row m-0 p-0">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-12 m-0 p-0 mb-4 banner-data">
                            <app-modal-section [tipo]="2" *ngFor="let section of flight.lsection"
                                [section]="section"></app-modal-section>
                        </div>
                        <div class="col-lg-12 col-md-12 col-sm-12 col-12 m-0 p-0 mb-4 banner-data">
                            <app-approvers-policies *ngIf="lpolicies?.length > 0 || lapprovers?.length > 0"
                                [aproverValid]="true" [data]="company" [borrar]="updateAprobarl" [tipo]="1"
                                [updateAproval]="updateAproval" [currency]="currency"
                                (selected)="actualizarApprovers($event)" [lpolicies]="lpolicies"
                                [lapprovers]="lapprovers"></app-approvers-policies>
                        </div>

                    </div>

                    <div *ngIf="validSeat && priceSeat != 0 || validBag" class="row m-0 p-0">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-12 m-0 p-0 mb-4 banner-data">
                            <div class="row m-0 p-0 mt-1 mb-2">
                                <div class="col-lg-4 col-md-7 col-sm-7 col-8 mt-5 r-div-pxa text-center">
                                    <span class="">Ancilliares</span>
                                </div>
                            </div>
                            <div class="row m-0 p-0">
                                <div class="col-lg-12 col-md-12 col-sm-12 col-12 m-0 p-0 mb-4 ">
                                    <div class="row m-0 p-0">
                                        <div class="col-xxl-12 col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                                            <app-seat-data [data]="dataSeats" [maletas]="maletas" [borrar]="false"
                                                (select)="recibirPrice($event)"></app-seat-data>
                                        </div>
                                        <!-- <div class="col-xxl-6 col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                                            <app-bag-data [data]="maletas" [borrar]="false" (select)="recibirPrice($event)"></app-bag-data>
                                        </div> -->
                                    </div>

                                </div>
                            </div>


                        </div>

                    </div>

                    <div *ngIf="validHotel" class="row m-0 p-0">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-12 m-0 p-0 mb-4 banner-data">
                            <div class="row m-0 p-0">
                                <div class="col-xxl-12 col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                                    <app-crosselling-data [hotel]="dataHotel" (select)="ocultarHotel($event)"
                                        [borrar]="false"></app-crosselling-data>
                                </div>

                            </div>

                        </div>
                    </div>

                    <div *ngIf="validSeat && priceSeat != 0 || validHotel" class="row m-0 p-0">


                        <div class="col-xxl-12 col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 m-0 p-0 webDropDown webInformation banner-data">
                            <div class="row m-0 p-0 mt-2 mb-2">
                                <alert type="info">
                                    <span class="txtAlertAprrover">Será cargado a la tarjeta cuando el vuelo sea
                                        emitido</span>
                                </alert>
                            </div>
                            <div class="row m-0 p-0 mt-2 mb-2">
                                <div class="col-xxl-6 col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                                    <input  type="text" (keydown)="ValidarSoloNumero($event)"  autocomplete="off" placeholder="Numero de tarjeta" pInputText [(ngModel)]="numberCreditCard" maxlength="16" />
                                </div>
                                <div class="col-xxl-4 col-xl-4 col-lg-3 col-md-6 col-sm-12 col-12">
                                    <p-calendar [(ngModel)]="expirationDate" view="month"  dateFormat="mm/yy" placeholder="mm/yy" [minDate]="maxDate" [readonlyInput]="true"></p-calendar>
                                </div>
                                <div class="col-xxl-2 col-xl-2 col-lg-3 col-md-6 col-sm-12 col-12">
                                    <input  type="password" (keydown)="ValidarSoloNumero($event)"  autocomplete="off" placeholder="xxx"  pInputText [(ngModel)]="cvv" maxlength="3"/>
                                </div>
                            </div>
                            <div class="row m-0 p-0 mt-2 mb-2">
                                <div class="col-xxl-6 col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                                    <input  type="text"  autocomplete="off" (keypress)="Solotexto($event)" placeholder="Nombre del titular" pInputText [(ngModel)]="nameCreditCard" />
                                </div>
                                <div class="col-xxl-6 col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                                    <input  type="text"  autocomplete="off" (keypress)="Solotexto($event)" placeholder="Apellido del titular" pInputText [(ngModel)]="lastNameCreditCard" />
                                </div>
                            </div>
                        </div>


                        <div class="col-lg-12 col-md-12 col-sm-12 col-12 m-0 p-0 mb-4 banner-data">


                            <div class="row mt-4 ml-3 mr-3">
                                <alert type="info">
                                    <span class="txtAlertAprrover">Será cargado a la tarjeta cuando el vuelo sea
                                        emitido</span>
                                </alert>
                            </div>
                            <div class="row mt-4 ml-3 mr-3">
                                <div class="col">
                                    <span>Nombre del Titular</span>
                                    <input (keypress)="Solotexto($event)" type="text" placeholder="Ingresa tu nombre"
                                        id="nombreAnci" class="cajitas" (paste)="false">
                                </div>
                                <div class="col">
                                    <span>Apellido del Titular</span>
                                    <input (keypress)="Solotexto($event)" placeholder="Ingresa tu apellido" id="apeAnci"
                                        maxlength="16" type="text" class="cajitas" (paste)="false">
                                </div>

                            </div>
                            <div class="row mt-4 mb-4 ml-3 mr-3">
                                <div class="col-5">
                                    <span>Numero de tarjeta</span>
                                    <input (keydown)="ValidarSoloNumero($event)" placeholder="0000 0000 0000 0000"
                                        maxlength="16" type="text" id="numAnci" class="cajitas" (paste)="false">
                                </div>
                                <div class="col-4">
                                    <span>Fecha de vencimiento</span>
                                    <input id="fecAnci" placeholder="MM/YY" type="month" class="cajitas">
                                </div>
                                <div class="col-3">
                                    <span>CVV</span><br />
                                    <input type="password" autocomplete="off" placeholder="****" maxlength="3" id="passAnci"
                                        class="cajitas" (paste)="false">
                                </div>


                            </div>

                        </div>

                    </div>

                   

                </div>
                <div class="col-lg-4 col-md-12 col-sm-12 col-12">

                    <div *ngIf="validPassenger" class="row m-0 p-0">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-12 m-0 p-0 banner-data">
                            <app-detail-price [flight]="flight" [priceSeat]="priceSeat"
                                [priceHotel]="dataHotel?.oprice?.pricePerAllNights"></app-detail-price>
                        </div>
                        <div class="col-lg-12 col-md-12 col-sm-12 col-12 m-0 p-0 mt-5 banner-data">
                            <app-detail-passengers [users]="request.Lpassenger"></app-detail-passengers>
                        </div>
                    </div>
                </div>
            </div>

            <div *ngIf="headService.isConsolidator()" class="row m-0 p-0 mb-4 mtop">
                <div class="col m-0 p-0  mt-3 mb-3 text-center">
                    <p-radioButton name="pago" value="CIP" [(ngModel)]="ingredient"
                        inputId="ingredient1"></p-radioButton>
                    <label style="line-height: 1px;" for="ingredient1" class="ml-2">Generar CIP</label>
                </div>
                <div *ngIf="flight.oconfiguration.consolidatePayment" class="col m-0 p-0  mt-3 mb-3 text-center">
                    <p-radioButton name="pago" value="PC" [(ngModel)]="ingredient"
                        inputId="ingredient2"></p-radioButton>
                    <label style="line-height: 1px;" for="ingredient2" class="ml-2">Pago Consolidado</label>
                </div>
            </div>

            <div class="row m-0 p-0 mtop">
                <div *ngIf="lapprovers?.length === 0 || lapprovers === null"
                    class="col-lg col-md col-sm col m-0 p-0 mt-3 mb-3 text-center">
                    <span (click)="generateReservation(false)" class="next">Reservar</span>
                </div>

                <div *ngIf="!headService.isConsolidator()"
                    class="col-lg col-md col-sm col m-0 p-0 mt-3 mb-3 text-center">
                    <div class="row m-0 p-0">
                        <div *ngIf="lapprovers?.length === 0 || lapprovers === null"
                            class="col-lg col-md col-sm col m-0 p-0 text-center">
                            <span (click)="generateReservation(true)" class="btnEmit">Emitir</span>
                        </div>
                        <div *ngIf="lapprovers?.length > 0"
                            class="col-lg col-md col-sm col m-0 p-0 text-center">
                            <span (click)="generateReservation(false)" class="next">Enviar Solicitud</span>
                        </div>
                    </div>

                </div>

            </div>
           
        </div>
    </div>
</div>