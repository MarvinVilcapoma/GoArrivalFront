<div class="row m-0 p-0">
    <div class="col-lg-6 col-md-6 col-sm-5 col-6 mt-4 r-div-pxa text-center">
        <span class="">Precio Final</span>
    </div>
    <div class="col-lg-6 col-md-6 col-sm-7 col-6 pt-4" style="text-align: end !important;">
        <img (click)="openModalDsctCop(templateDsctCorp)" class="medal pr-2" pTooltip="Vuelo con descuento corporativo."
            *ngIf="flight.oreservationPrice.odiscount != null"
            src="assets/Images/flight/medalla.svg" alt="">

        <span pTooltip="Vuelo con infracción de políticas." (click)="openModalPoliticas(modalPolitica)"
            *ngIf="flight.lpolicy != null && flight.lpolicy?.length>0"
            class="circulo-politica pl-1 r-span-1"></span>
        <span pTooltip="El vuelo cumple las políticas de viaje de la empresa."
            *ngIf="flight.lpolicy != null && flight.lpolicy?.length===0"
            class="circulo-politica1 pl-1 r-span-2"></span>
    </div>
</div>
<div  class="section">
    <div class="row m-0 p-0">
        <div class="col-lg-12 col-md-12 col-sm-12 col-6 text-end">
            <span 
                class="text-currency pr-1">{{flight.oreservationPrice.currency}}</span>
            <span 
                class="text-currency-monto">{{flight.oreservationPrice.totalAmount}}</span>

        </div>
    </div>

    <div class="row m-0 p-0">
        <div *ngFor="let pricePassenger of flight.oreservationPrice.lpassengerPrice" class="col-lg-12 col-md-12 col-sm-12 col-6 text-end">
          <span class="text-per-person pr-4">Precio por {{pricePassenger.type === 'ADT' ? 'Adulto' : pricePassenger.type === 'INF' ? 'Infante' : 'Niño'}} ({{pricePassenger.quantity}})</span>
          <span  class="text-currency-2 pr-1">{{flight.oreservationPrice.currency}}</span>
          <span  class="text-currency-monto-2">{{pricePassenger.individualPrice}}</span>
        </div>
      </div>




    <div *ngIf="flight.oreservationPrice.odiscount != null" class="row m-0 p-0">
        <div class="col-lg-12 col-md-12 col-sm-12 col-6 text-end">
            <span class="text-per-person pr-4">Monto de descuento</span>
            <span class="text-currency-2 pr-1">{{flight.oreservationPrice.currency}}</span>
            <span class="text-currency-monto-2">{{flight.oreservationPrice.odiscount.discount}}</span>
        </div>
    </div>
</div>

<ng-template #modalPolitica let-c="close" let-d="dismiss">

    <div class="modal-header pb-0" style="border: none;">
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRefPoliticas.hide()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>

    <div class="modal-body m-0 p-0">

        <div class="row m-0 p-0 pb-3">
            <div class="col-lg-12 col-md-12 col-sm-12 col-12 text-center textModalPol">
                <u>Infracción de Políticas de Viaje</u>
            </div>
        </div>

        <div class="row m-0 p-0">

              <app-detail-policies-booking [politica]="politica" [politicaIndex]="i+1"
                  [politicaslength]="flight.lpolicy.length"
                  *ngFor="let politica of flight.lpolicy; let i=index"></app-detail-policies-booking>

        </div>

    </div>

</ng-template>

<ng-template #templateDsctCorp>
    <div class="modal-header d-flex align-items-center">
        <img src="assets/Images/flight/medalla.svg" alt="" class="imgDesCorp">
        <h4 class="modal-title pull-left" style="font-family: Omnes-med !important;">Convenio Corporativo</h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRefDsctCorp.hide()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body textCorp">
        <p>
            La medalla indica que el vuelo tiene un descuento especial para su empresa, el cual no encontrará en vuelos
            publicados.
        </p>

        <p>
            Comunmente son los acuerdos iniciales que se realizan con cada aerolínea.
        </p>
    </div>

    <div class="modal-footer text-right">
        <button (click)="modalRefDsctCorp.hide()" class="btn">
            Entendido
        </button>
    </div>
</ng-template>